angular.module("semanticular.dropdown",[]),angular.module("semanticular.dropdown").controller("DropdownController",["$rootScope","$scope","$http",function(e,t,n){var o={placeholder:"",allowSearch:!1,allowMultipleSelection:!1};t.items=[],t.control=t.control||{},t.options=$.extend(!0,{},o,t.options||{}),t.intentedChangeValue=null,t.intentCount=0,t.intentCountLimit=50;var a=t.options.onChange;t.options.onChange=function(n){return t.control.clearInput(),t.options.allowMultipleSelection&&(n=n?n.split(","):[]),t.intentedChangeValue&&!t.isEqualValues(t.intentedChangeValue,n)?void(t.options.log&&console.log("Changed value & intented change mismatch, discarding onChange event.")):(t.intentedChangeValue=null,t.intentCount=0,void(t.isEqualValues(t.model,n)||(t.options.log&&console.log("Settings model value...",n),t.model=n,a&&a(n),e.$$phase||t.$apply())))},this.addItem=t.control.addItem=function(e,n){t.items.push({title:e,value:n})},this.removeItem=t.control.removeItem=function(e){var n=-1;t.items.forEach(function(t,o){t.value==e&&(n=o)}),n>-1&&t.items.splice(n,1)},t.clearItems=t.control.clearItems=function(){t.items=[]},t.onInputChange=function(e){var n=t.options.remote,o=e.target.value.trim();t.remoteFetch_(o),n.onInputChange&&n.onInputChange(o)},t.remoteFetch_=function(e){var o,a=t.options.remote;if(a){if("function"==typeof a.beforeSend){if(o=a.beforeSend(a.url,e),!o)return}else o=a.url.replace("{query}",encodeURIComponent(e));n.get(o).then(function(n){if(n.status>=300)throw new Error("Bad response");var o=n.data;"function"==typeof a.onResponse&&(o=a.onResponse(o,e)),_.isArray(o)||(o=[]),t.items=o,t.control.updateMessage()})}},t.remoteFetch=_.debounce(t.remoteFetch_,250),t.isEqualValues=function(e,n){return t.options.allowMultipleSelection?(e=_.sortBy(e),n=_.sortBy(n),_.isEqual(e,n)):e==n}}]),angular.module("semanticular.dropdown").directive("dropdown",[function(){var e='<div class="ui selection dropdown"><input type="hidden" name=""><i class="dropdown icon"></i><div class="default text"></div><div class="menu"><div class="item" ng-repeat="item in items" data-value="{{item.value}}">{{item.title}}</div></div><div ng-transclude style="display: none;"></div></div>',t=function(e,t,n,o){t=$(t[0]);var a,i=[];e.options.allowSearch&&i.push("search"),e.options.allowMultipleSelection&&i.push("multiple"),t.find(".default.text").text(e.options.placeholder||""),t.addClass(i.join(" ")).dropdown(e.options),(e.options.allowSearch||e.options.remote)&&(a=t.find("input.search")[0],a.addEventListener("input",e.onInputChange,!1)),e.control.setViewValue=function(n,o){if(n&&!e.isEqualValues(e.control.getViewValue(),n)){e.options.log&&console.log("Settings view value... (#"+e.intentCount+")",n);var a="set selected";if(e.options.allowMultipleSelection?a="set exactly":n+="",e.intentCount>=e.intentCountLimit)return void(e.options.log&&console.log("Intent limit is exceed, giving up."));if(e.intentedChangeValue=n,e.intentCount++,t.dropdown(a,n),o){var i=e.control.getViewValue();e.isEqualValues(i,n)||setTimeout(e.control.setViewValue.bind(null,n,o),50)}}},e.control.getViewValue=function(){var n=t.dropdown("get value");return e.options.allowMultipleSelection&&(n=n?n.split(","):[]),n},e.control.show=function(){t.dropdown("show")},e.control.hide=function(){t.dropdown("hide")},e.control.setLoading=function(e){var n="removeClass";e&&(e="addClass"),t[n]("loading")},e.control.clearInput=function(){a&&(a.value="")},e.control.updateMessage=function(){e.items.length>0&&t.dropdown("remove message")},e.control.setText=function(e){t.dropdown("set text",e)},e.control.refreshText=function(){if(e.model){var n=_.find(e.items,{value:e.model}),o=n?n.title:null;o&&t.dropdown("set text",o)}};var l=e.$watch("model",function(t){e.control.setViewValue(e.model,!0)});e.$on("$destroy",function(){l(),a&&a.addEventListener("input",e.onInputChange,!1)})};return{restrict:"E",scope:{model:"=ngModel",options:"=?",control:"=?"},template:e,transclude:!0,replace:!0,controller:"DropdownController",link:t}}]),angular.module("semanticular.dropdown").directive("dropdownItem",function(){var e=function(e,t,n,o){var a=e.title||t[0].innerHTML,i=e.value||n.value||a;o.addItem(a,i),e.$on("$destroy",function(){o.removeItem(i)})};return{require:"^dropdown",restrict:"E",scope:{value:"=",title:"="},link:e}}),angular.module("semanticular.modal",[]),angular.module("semanticular.modal").directive("modal",[function(){var e='<div class="ui modal" ng-transclude></div>',t={extraClasses:[],closable:!0,transition:"scale",duration:400,onShow:function(){},onHide:function(){},onApprove:function(){},onDeny:function(){}},n=function(e,n,o,a){n=$(n[0]);var i=$.extend(!0,{},t,e.options||{}),l=e.$watch(function(){return a.$modelValue},function(e){n.modal(e?"show":"hide")});e.$on("$destroy",function(){l()}),n.addClass(i.extraClasses.join(" ")).modal({closable:i.closable,transition:i.transition,duration:i.duration,onShow:function(){i.onShow()},onHide:function(){a.$modelValue&&a.$setViewValue(!1),i.onHide()},onApprove:function(){i.onApprove()},onDeny:function(){i.onDeny()}})};return{restrict:"E",scope:{options:"="},template:e,transclude:!0,require:"ngModel",replace:!0,link:n}}]),angular.module("semanticular.popup",[]),angular.module("semanticular.popup").directive("popup",[function(){var e={variation:"",content:"",title:"",html:"",on:"hover",position:"top left",inline:!1,transition:"slide down",duration:200,setFluidWidth:!0,hoverable:!1,closable:!0,hideOnScroll:"auto",distanceAway:0,offset:0,onShow:function(){},onHide:function(){}},t=function(t,n,o){var a=$.extend(!0,{},e,t.popup||{});n=$(n[0]),n.popup({variation:a.variation,content:a.content,title:a.title,html:a.html,on:a.on,position:a.position,inline:a.inline,transition:a.transition,duration:a.duration,setFluidWidth:a.setFluidWidth,hoverable:a.hoverable,closable:a.closable,hideOnScroll:a.hideOnScroll,distanceAway:a.distanceAway,offset:a.offset,onShow:function(){a.onShow()},onHide:function(){a.onHide()}})};return{restrict:"A",scope:{popup:"="},link:t}}]),angular.module("semanticular.checkbox",[]),angular.module("semanticular.checkbox").directive("checkbox",[function(){var e='<div class="ui checkbox"><input type="checkbox" tabindex="0" class="hidden"><label ng-transclude></label></div>',t={extraClasses:[],isDisabled:!1,isReadOnly:!1,style:"standart"},n=function(e,n,o,a){n=$(n[0]);var i=$.extend(!0,{},t,e.options||{}),l=e.$watch(function(){return a.$modelValue},function(e){n.checkbox(e?"set checked":"set unchecked")});"standart"!=i.style&&i.extraClasses.push(i.style),i.isDisabled&&i.extraClasses.push("disabled"),i.isReadOnly&&i.extraClasses.push("read-only"),e.$on("$destroy",function(){l()}),n.addClass(i.extraClasses.join(" ")).checkbox({onChange:function(){a.$setViewValue(n.checkbox("is checked"))}})};return{restrict:"E",scope:{options:"="},template:e,transclude:!0,require:"ngModel",replace:!0,link:n}}]),angular.module("semanticular.radio",[]),angular.module("semanticular.radio").directive("radio",[function(){var e='<div class="ui radio checkbox"><input type="radio" tabindex="0" class="hidden"><label ng-transclude></label></div>',t={extraClasses:[],isDisabled:!1,isReadOnly:!1,style:"standart"},n=function(e,n,o,a){n=$(n[0]);var i=e.value||o.value,l=$.extend(!0,{},t,e.options||{}),s=e.$watch(function(){return a.$modelValue},function(e){n.checkbox(e==i?"set checked":"set unchecked")});"standart"!=l.style&&l.extraClasses.push(l.style),l.isDisabled&&l.extraClasses.push("disabled"),l.isReadOnly&&l.extraClasses.push("read-only"),e.$on("$destroy",function(){s()}),n.addClass(l.extraClasses.join(" ")).checkbox({onChange:function(){a.$setViewValue(i)}})};return{restrict:"E",scope:{options:"=",value:"="},template:e,transclude:!0,require:"ngModel",replace:!0,link:n}}]),angular.module("semanticular.progress",[]),angular.module("semanticular.progress").directive("progress",[function(){var e='<div class="ui progress"><div class="bar"></div><div class="label" ng-show="label" ng-bind="label"></div></div>',t={label:"",extraClasses:[]},n=function(e,n,o,a){n=$(n[0]);var i=$.extend(!0,{},t,e.options||{});e.label=o.label||i.label;var l=e.$watch(function(){return a.$modelValue},function(e){n.progress({percent:100*a.$modelValue})});e.$on("$destroy",function(){l()}),n.addClass(i.extraClasses.join(" ")).checkbox()};return{restrict:"E",scope:{options:"="},template:e,require:"ngModel",replace:!0,link:n}}]),angular.module("semanticular.tabs",[]),angular.module("semanticular.tabs").directive("tab",[function(){var e='<div class="ui bottom attached tab segment" data-tab="" ng-transclude></div>',t=function(e,t,n,o){t=$(t[0]);var a=void 0!=n.active,i=o.addTab(n.heading,a);a&&t.addClass("active"),t.attr("data-tab",i),e.$on("$destroy",function(){o.removeTab(i)})};return{restrict:"E",require:"^tabset",scope:{},template:e,transclude:!0,replace:!0,link:t}}]),angular.module("semanticular.tabs").controller("TabsetController",["$scope",function(e){e.tabs=[];var t=1,n="tab_"+Math.random().toString(36).substring(7);this.addTab=function(o,a){var i={heading:o,id:n+"_"+t,isActive:!!a};return t++,e.tabs.push(i),i.id},this.removeTab=function(t){var n=-1;e.tabs.forEach(function(e,o){e.id==t&&(n=o)}),n>-1&&e.tabs.splice(n,1)}}]),angular.module("semanticular.tabs").directive("tabset",["$timeout",function(e){var t='<div class="tabset"><div class="ui top attached tabular menu"><a class="item" ng-repeat="tab in tabs" data-tab="{{tab.id}}" ng-class="{active: tab.isActive}">{{tab.heading}}</a></div><div ng-transclude></div></div>',n={extraClasses:[]},o=function(t,o,a){o=$(o[0]);var i=$.extend(!0,{},n,t.options||{});e(function(){o.find(".menu").addClass(i.extraClasses.join(" ")).find(".item").tab()})};return{restrict:"E",scope:{options:"="},template:t,transclude:!0,replace:!0,controller:"TabsetController",link:o}}]),angular.module("semanticular",["semanticular.dropdown","semanticular.modal","semanticular.popup","semanticular.checkbox","semanticular.radio","semanticular.progress","semanticular.tabs"]);